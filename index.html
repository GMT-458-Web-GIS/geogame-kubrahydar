<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Capitals Game</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Leaflet MiniMap plugin -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-minimap/dist/Control.MiniMap.min.css"/>
  <script src="https://unpkg.com/leaflet-minimap/dist/Control.MiniMap.min.js"></script>

  <!-- Chart.js for analytics panel -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="theme-dark">
  <!-- Intro / Start screen (fullscreen) -->
  <div id="intro" class="intro-screen">
    <div class="intro-card">
      <h1>Start Game</h1>
      <p class="subtitle">Guess world capitals â€” click the map to place your guess</p>

      <div class="intro-controls">
        <button id="introStart" class="primary">Start Game</button>

        <select id="themeSelIntro" aria-label="Theme selector">
          <option value="dark">Dark</option>
          <option value="neon">Neon</option>
          <option value="pastel">Pastel</option>
          <option value="retro">Retro</option>
        </select>

        <select id="difficultySelIntro" aria-label="Difficulty selector">
          <option value="easy">Easy</option>
          <option value="normal" selected>Normal</option>
          <option value="hard">Hard</option>
        </select>
      </div>
    </div>
  </div>

  <div id="map"></div>

  <div class="topbar">
      <div class="timer">â±ï¸ <span id="time">60</span>s</div>
      <div class="score">â­ <span id="score">0</span> pts</div>
      <div class="lives">Lives: <span id="lives">5</span></div>
      <div class="difficulty">Mode: <span id="difficultyLabel">Normal</span></div>
  </div>

  <!-- Right target panel -->
  <div class="target-panel" id="targetPanel">
    <div class="target-emoji" id="flagEmoji">ğŸŒ</div>
    <div class="target-country" id="targetCountry">â€”</div>
    <div class="target-capital" id="targetCapital">â€”</div>
  </div>

  <!-- Left analytics panel (shows after game ends) -->
  <div class="analytics-panel" id="analyticsPanel">
    <div class="analytics-header">ğŸ“Š Game Stats</div>
    <p id="summaryText" class="analytics-summary">Play a round to see your stats.</p>
    <canvas id="statsChart"></canvas>
  </div>

  <div class="bottom-panel">
    <div class="panel-box">
        <div class="city-name">Target: <span id="cityName">â€”</span></div>
        <div id="roundResult">No guess made yet.</div>
        <div class="info-log"><ol id="log"></ol></div>
        <br>
        <button id="startBtn" class="primary">Start</button>
        <button id="nextBtn" class="secondary">Skip</button>

        <select id="themeSel" aria-label="Theme selector bottom">
          <option value="dark">Dark</option>
          <option value="neon">Neon</option>
          <option value="pastel">Pastel</option>
          <option value="retro">Retro</option>
        </select>

        <select id="difficultySel" aria-label="Difficulty selector bottom">
          <option value="easy">Easy</option>
          <option value="normal" selected>Normal</option>
          <option value="hard">Hard</option>
        </select>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
